model UOMClass {
  code        String          @id @unique
  name        String
  description String?
  baseUOMCode String?
  sortOrder   Int             @default(0)
  isActive    Boolean         @default(true)
  createdAt   DateTime        @default(now())
  updatedAt   DateTime        @updatedAt
  createdBy   String?
  baseUOM     UOM?            @relation("BaseUOM", fields: [baseUOMCode], references: [code])
  uoms        UOM[]           @relation("ClassUOMs")
  uomConvs    UOMConversion[]
}

model UOM {
  code                 String                  @id @unique
  name                 String
  description          String?
  sortOrder            Int                     @default(0)
  isActive             Boolean                 @default(true)
  createdAt            DateTime                @default(now())
  updatedAt            DateTime                @updatedAt
  createdBy            String?
  classCode            String
  items                Item[]
  itemSkus             ItemSKU[]
  itemUoms             ItemUOM[]               @relation("ItemUOMs")
  skuUoms              SKUUOM[]                @relation("SKUUOMs")
  soDetails            SODetail[]
  supplierItemPackages SupplierItemPackaging[]
  uomClass             UOMClass                @relation("ClassUOMs", fields: [classCode], references: [code])
  uomConvs             UOMConversion[]
  baseUOMClasses       UOMClass[]              @relation("BaseUOM")
}

model UOMConversion {
  uomClassCode String
  uomCode      String
  toBaseFactor Float
  isActive     Boolean  @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  createdBy    String?
  uomClass     UOMClass @relation(fields: [uomClassCode], references: [code])
  uom          UOM      @relation(fields: [uomCode], references: [code])

  @@id([uomClassCode, uomCode])
}
